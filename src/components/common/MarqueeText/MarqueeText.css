/* Shared marquee text styling */

.marquee-text {
    position: relative;
    display: flex;
    overflow: hidden;
    min-inline-size: 0;
}

.marquee-text__track {
    display: inline-flex;
    align-items: center;
    gap: var(--marquee-gap, 1.5rem);
    min-inline-size: max-content;
    will-change: transform;

    .marquee-text--active & {
        animation: marquee-text-scroll var(--marquee-duration, 14s) linear
            infinite;
    }

    .marquee-text--active:hover &,
    .marquee-text--active:focus-within & {
        animation-play-state: paused;
    }

    @media (prefers-reduced-motion: reduce) {
        .marquee-text--active & {
            animation: none;
            transform: translateX(0);
        }
    }
}

.marquee-text__segment {
    display: inline-block;
    min-inline-size: max-content;
    white-space: nowrap;
}

.marquee-text__segment--clone {
    pointer-events: none;
}

@keyframes marquee-text-scroll {
    0% {
        transform: translateX(0);
    }

    /* Scroll phase: Move content to the left */
    65% {
        transform: translateX(calc(-50% - var(--marquee-gap, 1.5rem) / 2));
    }

    /* Snap back phase: Instantly reset to start */
    65.01% {
        transform: translateX(0);
    }

    /* Pause phase: Hold at start before repeating */
    100% {
        transform: translateX(0);
    }
}
