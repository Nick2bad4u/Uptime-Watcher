/* Tooltip component styles */
/* stylelint-disable selector-class-pattern -- already kebab case just -- */

.tooltip-container {
    position: relative;
    display: inline-flex;
    align-items: center;
    inline-size: fit-content;
}

.tooltip-container--inline {
    display: inline-flex;
}

.tooltip-container--block {
    display: flex;
    inline-size: 100%;
}

.tooltip {
    --tooltip-arrow-offset-inline: 0;
    --tooltip-arrow-offset-block: 0;
    --tooltip-surface-base: var(
        --color-surface-overlay,
        var(--shadow-base-color, rgb(15 23 42))
    );
    --tooltip-border-color: color-mix(
        in srgb,
        var(--shadow-inverse-color) 12%,
        transparent
    );
    --tooltip-outline-color: color-mix(
        in srgb,
        var(--shadow-inverse-color) 5%,
        transparent
    );
    --tooltip-shadow-color: color-mix(
        in srgb,
        var(--shadow-neutral-color) 30%,
        transparent
    );
    --tooltip-text-color: color-mix(
        in srgb,
        var(--shadow-inverse-color) 95%,
        transparent
    );
    --tooltip-surface-color: color-mix(
        in srgb,
        var(--tooltip-surface-base) 95%,
        transparent
    );

    position: fixed;
    z-index: 9999;
    padding: 0.5rem 0.75rem;
    border: 1px solid var(--tooltip-border-color);
    border-radius: 0.5rem;
    backdrop-filter: blur(12px);
    background: var(--tooltip-surface-color);
    box-shadow:
        0 10px 30px var(--tooltip-shadow-color),
        0 0 0 1px var(--tooltip-outline-color);
    color: var(--tooltip-text-color);
    font-size: 0.875rem;
    font-weight: 500;
    inset-block-start: 0;
    inset-inline-start: 0;
    line-height: 1.375;
    opacity: 0;
    pointer-events: none;
    transform: scale(0.95);
    transition:
        opacity 150ms cubic-bezier(0.4, 0, 0.2, 1),
        transform 150ms cubic-bezier(0.4, 0, 0.2, 1);
    white-space: normal;
    will-change: opacity, transform;

    @media screen and (prefers-reduced-motion: reduce) {
        transform: scale(0.95);
        transition: none;
    }
}

.tooltip--visible {
    opacity: 1;
    transform: scale(1);
}

.tooltip__content {
    position: relative;
    z-index: 1;
}

.tooltip__arrow {
    position: absolute;
    border-style: solid;
    border-color: transparent;
    block-size: 0;
    inline-size: 0;
}

/* Position variants */
.tooltip[data-position="top"] .tooltip__arrow {
    border-block-end-width: 0;
    border-block-start-color: var(--tooltip-surface-color);
    border-block-start-width: 6px;
    border-inline-width: 6px;
    inset-block-start: 100%;
    inset-inline-start: 50%;
    transform: translateX(calc(-50% + var(--tooltip-arrow-offset-inline)));
}

.tooltip[data-position="bottom"] .tooltip__arrow {
    border-block-end-color: var(--tooltip-surface-color);
    border-block-end-width: 6px;
    border-block-start-width: 0;
    border-inline-width: 6px;
    inset-block-end: 100%;
    inset-inline-start: 50%;
    transform: translateX(calc(-50% + var(--tooltip-arrow-offset-inline)));
}

.tooltip[data-position="left"] .tooltip__arrow {
    border-block-width: 6px;
    border-inline-end-width: 0;
    border-inline-start-color: var(--tooltip-surface-color);
    border-inline-start-width: 6px;
    inset-block-start: 50%;
    inset-inline-start: 100%;
    transform: translateY(calc(-50% + var(--tooltip-arrow-offset-block)));
}

.tooltip[data-position="right"] .tooltip__arrow {
    border-block-width: 6px;
    border-inline-end-color: var(--tooltip-surface-color);
    border-inline-end-width: 6px;
    border-inline-start-width: 0;
    inset-block-start: 50%;
    inset-inline-end: 100%;
    transform: translateY(calc(-50% + var(--tooltip-arrow-offset-block)));
}

/* Light theme adjustments */
.theme-light .tooltip,
[data-theme="light"] .tooltip {
    --tooltip-border-color: color-mix(
        in srgb,
        var(--shadow-neutral-color) 8%,
        transparent
    );
    --tooltip-outline-color: color-mix(
        in srgb,
        var(--shadow-neutral-color) 5%,
        transparent
    );
    --tooltip-shadow-color: color-mix(
        in srgb,
        var(--shadow-neutral-color) 15%,
        transparent
    );
    --tooltip-surface-base: var(
        --surface-light-color,
        var(--shadow-inverse-color)
    );
    --tooltip-surface-color: color-mix(
        in srgb,
        var(--tooltip-surface-base) 98%,
        transparent
    );
    --tooltip-text-color: color-mix(
        in srgb,
        var(--shadow-base-color) 95%,
        transparent
    );
}

/* Dark & high contrast theme adjustments */
.theme-dark .tooltip,
.theme-high-contrast .tooltip,
[data-theme="dark"] .tooltip {
    --tooltip-border-color: color-mix(
        in srgb,
        var(--color-border-primary, #1b2535) 58%,
        transparent
    );
    --tooltip-outline-color: color-mix(
        in srgb,
        var(--color-primary-500, #3a63a6) 22%,
        transparent
    );
    --tooltip-shadow-color: color-mix(
        in srgb,
        var(--color-shadow-overlay, rgb(8 12 24)) 45%,
        transparent
    );
    --tooltip-surface-base: var(
        --color-surface-overlay,
        var(--shadow-base-color, rgb(15 23 42))
    );
    --tooltip-surface-color: color-mix(
        in srgb,
        var(--tooltip-surface-base) 96%,
        transparent
    );
    --tooltip-text-color: color-mix(
        in srgb,
        var(--color-text-primary, #f2f4f8) 98%,
        transparent
    );
}
