/* stylelint-disable a11y/selector-pseudo-class-focus -- TODO: Create Script to Fix at release to reduce LoC */
/* stylelint-disable a11y/media-prefers-reduced-motion -- TODO: Create Script to Fix at release to reduce LoC */

.app-topbar {
    position: relative;
    padding: clamp(1rem, 2vi, 1.5rem) clamp(1rem, 3vi, 2.5rem) 0;
}

.app-topbar__container {
    position: relative;
    border: 1px solid rgb(255 255 255 / 14%);
    background: linear-gradient(
        135deg,
        rgb(15 23 42 / 92%),
        rgb(30 41 59 / 62%)
    );
    backdrop-filter: blur(18px);
    box-shadow: 0 22px 60px rgb(15 23 42 / 35%);
    overflow: hidden;
}

.app-topbar__container::after {
    position: absolute;
    content: "";
    inset-inline-end: -25%;
    inset-block-start: -35%;
    inline-size: 50%;
    block-size: 50%;
    border-radius: 50%;
    background: radial-gradient(circle, rgb(59 130 246 / 38%), transparent 70%);
    opacity: 0.6;
    pointer-events: none;
}

.app-topbar__row {
    display: grid;
    grid-template-columns: auto minmax(0, 1fr) auto;
    align-items: center;
    gap: 1.5rem;
}

.app-topbar__identity {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
    min-inline-size: 0;
}

.app-topbar__identity-text {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    min-inline-size: 0;
}

.app-topbar__sidebar-toggle {
    inline-size: 2.5rem;
    block-size: 2.5rem;
    border-radius: var(--border-radius-full);
    border: 1px solid rgb(96 165 250 / 45%);
    background: linear-gradient(
        135deg,
        rgb(59 130 246 / 60%),
        rgb(96 165 250 / 45%)
    );
    color: rgb(241 245 249);
    transition:
        transform var(--transition-fast),
        background var(--transition-fast);
}

.app-topbar__sidebar-toggle:hover {
    transform: scale(1.05);
    background: linear-gradient(
        135deg,
        rgb(59 130 246 / 70%),
        rgb(129 140 248 / 55%)
    );
}

.app-topbar__title {
    letter-spacing: 0.03em;
}

.app-topbar__subtitle {
    opacity: 0.75;
    letter-spacing: 0.08em;
}

.app-topbar__badges {
    display: flex;
    align-items: center;
    gap: 1rem;
    min-inline-size: 0;
}

.app-topbar__badge {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    border-radius: 0.9rem;
    border: 1px solid rgb(255 255 255 / 16%);
    background: rgb(255 255 255 / 10%);
    padding: 0.5rem 0.9rem;
}

.app-topbar__badge--primary {
    border-color: rgb(59 130 246 / 35%);
    background: linear-gradient(
        135deg,
        rgb(59 130 246 / 45%),
        rgb(96 165 250 / 25%)
    );
    box-shadow: 0 12px 28px rgb(59 130 246 / 28%);
}

.app-topbar__badge-label {
    font-size: 0.75rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
}

.app-topbar__badge-value {
    font-size: 1.1rem;
    font-weight: var(--font-weight-semibold);
}

.app-topbar__controls {
    display: flex;
    justify-content: flex-end;
}

.app-topbar__summary {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    margin-block-start: 1.5rem;
}

.app-topbar__site-count {
    opacity: 0.75;
    letter-spacing: 0.04em;
}

.header-status-summary {
    display: flex;
    align-items: center;
    padding: 0.5em 1.25em;
    border-radius: var(--radius-lg);
    background: rgb(15 23 42 / 55%);
    box-shadow: 0 1px 6px 0 var(--color-shadow);
    gap: var(--spacing-md);
}

.health-badge {
    border-width: 1px;
    border-color: var(--color-success-border, rgb(16 185 129 / 33%));
    background-color: color-mix(in srgb, var(--color-success) 10%, transparent);
    box-shadow: 0 0 0 0 var(--color-shadows-success, rgb(16 185 129 / 22%));
    transition:
        box-shadow 0.22s cubic-bezier(0.4, 1.2, 0.4, 1),
        background 0.22s,
        transform 0.18s;
    will-change: transform, box-shadow;
}

.status-up-badge,
.status-degraded-badge,
.status-down-badge,
.status-pending-badge,
.status-paused-badge {
    transition:
        box-shadow 0.18s,
        background 0.18s,
        transform 0.16s;
    will-change: transform, box-shadow;
}

.health-badge:hover {
    background-color: color-mix(in srgb, var(--color-success) 18%, transparent);
    box-shadow: 0 4px 18px 0 var(--color-shadows-success, rgb(16 185 129 / 33%));
    filter: brightness(1.04) saturate(1.1);
    transform: scale(1.045) translateY(-2px);
}

.status-up-badge:hover {
    background-color: color-mix(in srgb, var(--color-success) 12%, transparent);
    box-shadow: 0 2px 12px 0 var(--color-shadows-success, rgb(16 185 129 / 22%));
    filter: brightness(1.03) saturate(1.08);
    transform: scale(1.04) translateY(-1px);
}

.status-degraded-badge:hover {
    background-color: color-mix(
        in srgb,
        var(--color-status-degraded) 12%,
        transparent
    );
    box-shadow: 0 2px 12px 0
        var(--color-shadows-degraded, rgb(249 115 22 / 22%));
    filter: brightness(1.03) saturate(1.08);
    transform: scale(1.04) translateY(-1px);
}

.status-down-badge:hover {
    background-color: color-mix(in srgb, var(--color-error) 12%, transparent);
    box-shadow: 0 2px 12px 0 var(--color-shadows-error, rgb(239 68 68 / 22%));
    filter: brightness(1.03) saturate(1.08);
    transform: scale(1.04) translateY(-1px);
}

.status-pending-badge:hover {
    background-color: color-mix(in srgb, var(--color-warning) 12%, transparent);
    box-shadow: 0 2px 12px 0 var(--color-shadows-warning, rgb(251 191 36 / 22%));
    filter: brightness(1.03) saturate(1.08);
    transform: scale(1.04) translateY(-1px);
}

.status-paused-badge:hover {
    background-color: color-mix(
        in srgb,
        var(--color-status-paused) 12%,
        transparent
    );
    box-shadow: 0 2px 12px 0 var(--color-shadows-paused, rgb(156 163 175 / 22%));
    filter: brightness(1.03) saturate(1.08);
    transform: scale(1.04) translateY(-1px);
}

/* Remove all default borders and box-shadows from header items */
.header-title-box,
.header-status-summary-box,
.total-sites-badge,
.header-interval-box,
.header-controls-box {
    border: 1.5px solid transparent;
    box-shadow: none;
    outline: none;
    transition:
        box-shadow 0.18s,
        border-color 0.18s,
        outline 0.18s,
        background 0.18s;
}

/* Show visible outlines and subtle background on hover/focus */
.header-title-box:hover,
.header-title-box:focus-visible,
.header-status-summary-box:hover,
.header-status-summary-box:focus-visible,
.header-interval-box:hover,
.header-interval-box:focus-visible,
.header-controls-box:hover,
.header-controls-box:focus-visible {
    border-color: var(--color-primary-500);
    background: rgb(37 99 235 / 6%); /* Fallback color */
    background: color-mix(in srgb, var(--color-primary-500) 6%, transparent);
    box-shadow: 0 2px 12px 0 var(--color-primary-500, rgb(37 99 235 / 22%));
}

.health-badge:hover,
.health-badge:focus-visible {
    border-color: var(--color-success, var(--color-primary-500));
    background: rgb(16 185 129 / 8%); /* Fallback color */
    background: color-mix(
        in srgb,
        var(--color-success, var(--color-primary-500)) 8%,
        transparent
    );
    box-shadow: 0 4px 18px 0 var(--color-shadows-success, rgb(16 185 129 / 33%));
}

.status-up-badge:hover,
.status-up-badge:focus-visible {
    border-color: var(--color-success);
    background: rgb(16 185 129 / 8%); /* Fallback color */
    background: color-mix(in srgb, var(--color-success) 8%, transparent);
    box-shadow: 0 2px 12px 0 var(--color-shadows-success, rgb(16 185 129 / 22%));
}

.status-degraded-badge:hover,
.status-degraded-badge:focus-visible {
    border-color: var(--color-status-degraded);
    background: rgb(249 115 22 / 8%); /* Fallback color */
    background: color-mix(
        in srgb,
        var(--color-status-degraded) 8%,
        transparent
    );
    box-shadow: 0 2px 12px 0
        var(--color-shadows-degraded, rgb(249 115 22 / 22%));
}

.status-down-badge:hover,
.status-down-badge:focus-visible {
    border-color: var(--color-error);
    background: rgb(239 68 68 / 8%); /* Fallback color */
    background: color-mix(in srgb, var(--color-error) 8%, transparent);
    box-shadow: 0 2px 12px 0 var(--color-shadows-error, rgb(239 68 68 / 22%));
}

.status-pending-badge:hover,
.status-pending-badge:focus-visible {
    border-color: var(--color-warning);
    background: rgb(251 191 36 / 8%); /* Fallback color */
    background: color-mix(in srgb, var(--color-warning) 8%, transparent);
    box-shadow: 0 2px 12px 0 var(--color-shadows-warning, rgb(251 191 36 / 22%));
}

.status-paused-badge:hover,
.status-paused-badge:focus-visible {
    border-color: var(--color-status-paused);
    background: rgb(156 163 175 / 8%); /* Fallback color */
    background: color-mix(in srgb, var(--color-status-paused) 8%, transparent);
    box-shadow: 0 2px 12px 0 var(--color-shadows-paused, rgb(156 163 175 / 22%));
}

.total-sites-badge:hover,
.total-sites-badge:focus-visible {
    border-color: var(--color-border-primary);
    background: rgb(37 99 235 / 6%); /* Fallback color */
    background: color-mix(in srgb, var(--color-border-primary) 6%, transparent);
    box-shadow: 0 2px 12px 0 var(--shadow-md);
}

/* Accessibility: reduce motion */
@media (prefers-reduced-motion: reduce) {
    .header-status-summary,
    .health-badge,
    .status-up-badge,
    .status-degraded-badge,
    .status-down-badge,
    .status-pending-badge,
    .status-paused-badge,
    .total-sites-badge {
        animation: none;
        transform: none;
        transition: none;
    }
}

@media (max-width: 1024px) {
    .app-topbar__row {
        flex-direction: column;
        align-items: flex-start;
        gap: 1.25rem;
    }

    .app-topbar__controls {
        inline-size: 100%;
        justify-content: flex-start;
    }

    .app-topbar__summary {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
    }

    .app-topbar__badges {
        inline-size: 100%;
        justify-content: space-between;
    }

    .app-topbar__sidebar-toggle {
        display: grid;
    }
}
