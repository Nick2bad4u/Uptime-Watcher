/* Compact card surface matches modern site card styling */
.site-card.site-card--compact {
    position: relative;
    display: flex;
    overflow: hidden;
    flex-direction: column;
    border: 1px solid
        color-mix(in srgb, var(--color-border-secondary) 52%, transparent);
    background:
        radial-gradient(
            120% 124% at 16% -28%,
            color-mix(in srgb, var(--color-primary-500) 34%, transparent) 0%,
            transparent 72%
        ),
        radial-gradient(
            160% 170% at 92% 12%,
            color-mix(in srgb, var(--color-status-up) 22%, transparent) 0%,
            transparent 74%
        ),
        linear-gradient(
            162deg,
            color-mix(in srgb, var(--color-surface-elevated) 96%, transparent)
                0%,
            color-mix(
                    in srgb,
                    var(--color-primary-500) 16%,
                    var(--color-surface-overlay) 84%
                )
                48%,
            color-mix(in srgb, var(--color-surface-base) 76%, transparent) 100%
        );
    box-shadow:
        inset 0 0 0 1px
            color-mix(in srgb, var(--shadow-inverse-color) 6%, transparent),
        0 24px 56px
            color-mix(in srgb, var(--shadow-deep-color) 38%, transparent);
    gap: clamp(0.5rem, 0.25rem + 0.5vi, 1rem);
    isolation: isolate;

    &::before {
        position: absolute;
        border-radius: 50%;
        background:
            radial-gradient(
                circle at 18% 22%,
                color-mix(in srgb, var(--color-primary-500) 32%, transparent),
                transparent 72%
            ),
            radial-gradient(
                circle at 62% 86%,
                color-mix(in srgb, var(--color-status-up) 24%, transparent),
                transparent 74%
            );
        block-size: 64%;
        content: "";
        inline-size: 64%;
        inset-block-start: -28%;
        inset-inline-end: -20%;
        opacity: 0.38;
        pointer-events: none;
    }

    &::after {
        position: absolute;
        border-radius: inherit;
        background:
            linear-gradient(
                184deg,
                color-mix(in srgb, var(--shadow-inverse-color) 12%, transparent)
                    0%,
                transparent 62%
            ),
            radial-gradient(
                120% 120% at 12% 0%,
                color-mix(
                    in srgb,
                    var(--overlay-highlight-color) 14%,
                    transparent
                ),
                transparent 70%
            );
        content: "";
        inset: 0;
        opacity: 0.32;
        pointer-events: none;
        transition: opacity var(--transition-normal);

        @media screen and (prefers-reduced-motion: reduce) {
            position: absolute;
            border-radius: inherit;
            background:
                linear-gradient(
                    184deg,
                    color-mix(
                            in srgb,
                            var(--shadow-inverse-color) 12%,
                            transparent
                        )
                        0%,
                    transparent 62%
                ),
                radial-gradient(
                    120% 120% at 12% 0%,
                    color-mix(
                        in srgb,
                        var(--overlay-highlight-color) 14%,
                        transparent
                    ),
                    transparent 70%
                );
            content: "";
            inset: 0;
            opacity: 0.32;
            pointer-events: none;
            transition: none;
        }
    }

    &:hover::after,
    &:focus-within::after {
        opacity: 0.4;
    }
}

/* Compact site card layout styling */

.site-card__compact-header,
.site-card__compact-metrics,
.site-card__compact-controls,
.site-card__compact-footer {
    display: flex;
    inline-size: 100%;
}

.site-card__compact-header {
    display: flex;
    flex-flow: row wrap;
    align-items: center;
    justify-content: space-between;
    gap: clamp(0.75rem, 0.6rem + 0.5vi, 1.1rem);
    inline-size: 100%;
    min-inline-size: 240px;
}

.site-card__compact-title {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    padding: clamp(0.35rem, 0.25rem + 0.35vi, 0.55rem)
        clamp(0.45rem, 0.35rem + 0.4vi, 0.75rem);
    border-radius: 0.9rem;
    background: linear-gradient(
        140deg,
        color-mix(in srgb, var(--color-surface-overlay) 88%, transparent) 0%,
        color-mix(in srgb, var(--color-primary-500) 10%, transparent) 100%
    );
    gap: 0.5rem;
    inline-size: 100%;
    text-align: start;
}

.site-card__compact-name {
    position: relative;
    display: flex;
    overflow: hidden;
    flex: 1 1 auto;
    gap: var(--space-2);
    inline-size: min(100%, clamp(12rem, 64vi, 24rem));
    min-inline-size: 0;

    .site-table__site & {
        gap: 1.5rem;
    }
}

.site-card__compact-name-segment {
    display: inline-block;
    min-inline-size: max-content;
    white-space: nowrap;
}

.site-card__compact-status {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: flex-start;
    gap: clamp(0.6rem, 0.5rem + 0.3vi, 1rem);
    inline-size: 100%;
    margin-inline: 0;
    padding-block: clamp(0.45rem, 0.3rem + 0.4vi, 0.75rem);
}

.site-card__compact-status-item {
    display: flex;
    flex: 1 1 9.5rem;
    flex-flow: row nowrap;
    align-items: center;
    justify-content: center;
    gap: 0.55rem;
    inline-size: auto;
    min-inline-size: 0;
}

.site-card__compact-status-meta {
    display: flex;
    overflow: hidden;
    flex-direction: column;
    align-items: flex-start;
    gap: 0.2rem;
    min-inline-size: 0;
    text-align: start;
}

.site-card__compact-status-label {
    color: color-mix(in srgb, var(--color-text-secondary) 86%, transparent);
    font-size: 0.625rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
}

.site-card__compact-status-value {
    overflow: hidden;
    color: var(--color-text-primary);
    font-size: 0.75rem;
    font-weight: var(--font-weight-medium);
    text-overflow: ellipsis;
    white-space: nowrap;
}

.site-card__compact-subtitle {
    display: flex;
    overflow: hidden;
    align-items: center;
    margin-inline-start: auto;
    max-inline-size: 100%;
    opacity: 0.75;
}

.site-card__compact-metrics {
    display: grid;
    gap: clamp(0.75rem, 0.6rem + 0.4vi, 1.1rem);
    grid-template-columns:
        [compact-metric-start]
        repeat(2, [compact-metric-col] minmax(0, 1fr))
        [compact-metric-end];
}

.site-card__compact-metric {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0.75rem 0.6rem;
    border-radius: 0.85rem;
    background: linear-gradient(
        140deg,
        color-mix(in srgb, var(--color-surface-overlay) 92%, transparent) 0%,
        color-mix(in srgb, var(--color-primary-500) 12%, transparent) 100%
    );
    box-shadow:
        inset 0 0 0 1px rgb(255 255 255 / 6%),
        0 14px 28px rgb(8 12 24 / 22%);
    gap: 0.2rem;
}

.site-card__compact-metric-label {
    font-size: 0.75rem;
    letter-spacing: 0.05em;
    opacity: 0.7;
    text-transform: uppercase;
}

.site-card__compact-metric-value {
    font-weight: var(--font-weight-semibold);
    text-align: center;
}

.site-card__compact-controls {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    justify-content: center;
    gap: clamp(0.75rem, 0.6rem + 0.4vi, 1.1rem);
}

.monitor-selector__wrapper.site-card__compact-selector {
    inline-size: 100%;
    margin-inline: 0;
    max-inline-size: 100%;
    min-inline-size: 0;

    &::before {
        position: absolute;
        border-radius: inherit;
        background: linear-gradient(
            145deg,
            color-mix(in srgb, var(--color-primary-500) 22%, transparent),
            color-mix(in srgb, var(--color-primary-400) 12%, transparent)
        );
        content: "";
        inset: -1px;
        opacity: 0.18;
        pointer-events: none;
    }
}

.site-card__compact-actions {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: flex-start;
    gap: clamp(0.5rem, 0.45rem + 0.3vi, 0.8rem);
}

.site-card__compact-hint {
    position: absolute;
    z-index: 1;
    display: inline-flex;
    align-items: center;
    justify-content: flex-end;
    gap: 0.4rem;
    inset-block-end: clamp(0.55rem, 0.45rem + 0.35vi, 0.9rem);
    inset-inline-end: clamp(0.6rem, 0.45rem + 0.45vi, 1.15rem);
    letter-spacing: 0.08em;
    opacity: 0;
    pointer-events: none;
    text-align: end;
    text-transform: uppercase;
    transition: opacity var(--transition-normal);
    white-space: nowrap;

    @media screen and (prefers-reduced-motion: reduce) {
        transition: none;
    }

    .site-card--compact:hover &,
    .site-card--compact:focus-within & {
        opacity: 0.85;
    }
}
