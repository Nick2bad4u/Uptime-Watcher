/* Tailwind CSS v4 CSS-first configuration */
@import "tailwindcss";

/* https://github.com/reslear/tailwind-scrollbar-hide */
@import "tailwind-scrollbar-hide/v4";

/* https://github.com/Wombosvideo/tw-animate-css */
@import "tw-animate-css";

/* Import theme components CSS for styled components */
@import "./theme/components.css";

/* https://github.com/tailwindlabs/tailwindcss-typography */
@plugin "@tailwindcss/typography";

/* https://github.com/tailwindlabs/tailwindcss-forms */
@plugin "@tailwindcss/forms";

/* Configure Tailwind using CSS-first approach */
@config "../tailwind.config.mjs";

/* Theme configuration using CSS custom properties */
@theme {
    /* Enhanced animations with modern timing functions */
    --animate-bounce-soft: bounce-soft 0.6s ease-out;
    --animate-fade-in: fade-in 0.2s ease-out forwards;
    --animate-pulse-slow: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    --animate-scale-in: scale-in 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    --animate-slide-up: slide-up 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;

    /* Enhanced border radius */
    --radius-2xl: 1rem;
    --radius-3xl: 1.5rem;
    --radius-xl: 0.75rem;

    /* Better shadow system */
    --shadow-glow: 0 0 20px 0 var(--color-primary-500, #3b82f6);
    --shadow-hard: 0 8px 32px 0 rgb(0 0 0 / 15%);
    --shadow-medium: 0 4px 16px 0 rgb(0 0 0 / 10%);
    --shadow-soft: 0 2px 8px 0 rgb(0 0 0 / 5%);

    /* Modern font families */
    --font-display: "Inter Display", "Inter", system-ui, sans-serif;
    --font-mono: "JetBrains Mono", "Fira Code", "Consolas", "Monaco", monospace;
    --font-sans:
        "Inter", system-ui, -apple-system, "BlinkMacSystemFont", "Segoe UI",
        "Roboto", "Arial", sans-serif;

    /* Enhanced typography scale */
    --text-2xl: 1.5rem;
    --text-3xl: 1.875rem;
    --text-4xl: 2.25rem;
    --text-5xl: 3rem;

    /* Enhanced breakpoints */
    --breakpoint-3xl: 1920px;
    --breakpoint-4xl: 2560px;
    --breakpoint-xs: 475px;

    /* Enhanced spacing scale */
    --spacing-18: 4.5rem;
    --spacing-88: 22rem;
    --spacing-128: 32rem;
    --spacing-144: 36rem;

    /* Better transition timings */
    --ease-bounce-in: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Keyframes for custom animations */
@keyframes bounce-soft {
    0%,
    100% {
        animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
        transform: translateY(0);
    }

    50% {
        animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
        transform: translateY(-8px);
    }
}

@keyframes fade-in {
    0% {
        opacity: 0;
    }

    100% {
        opacity: 1;
    }
}

@keyframes scale-in {
    0% {
        opacity: 0;
        transform: scale(0.95);
    }

    100% {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes slide-up {
    0% {
        opacity: 0;
        transform: translateY(10px);
    }

    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Custom utilities using Tailwind v4 syntax */
@utility scrollbar-hidden {
    ::-webkit-scrollbar {
        display: none;
    }

    -ms-overflow-style: none;
    scrollbar-width: none;
}

:root {
    /* Define gray color palette for compatibility */
    --color-gray-50: oklch(98.4% 0.003 247.858deg);
    --color-gray-100: oklch(96.8% 0.007 247.896deg);
    --color-gray-200: oklch(92.9% 0.013 255.508deg);
    --color-gray-300: oklch(86.9% 0.022 252.894deg);
    --color-gray-400: oklch(70.4% 0.04 256.788deg);
    --color-gray-500: oklch(55.4% 0.046 257.417deg);
    --color-gray-600: oklch(44.6% 0.043 257.281deg);
    --color-gray-700: oklch(37.2% 0.044 257.287deg);
    --color-gray-800: oklch(27.9% 0.041 260.031deg);
    --color-gray-900: oklch(20.8% 0.042 265.755deg);
    --color-gray-950: oklch(12.9% 0.042 264.695deg);

    /* Define other color palettes used in the app */
    --color-red-100: oklch(94.2% 0.093 17.38deg);
    --color-red-800: oklch(54.8% 0.194 17.651deg);
    --color-red-900: oklch(50.6% 0.181 17.694deg);
    --color-red-200: oklch(89.8% 0.121 16.422deg);
    --color-green-100: oklch(92.1% 0.094 142.425deg);
    --color-green-800: oklch(54.8% 0.155 156.743deg);
    --color-green-900: oklch(49.8% 0.137 158.96deg);
    --color-green-200: oklch(87% 0.13 141.966deg);
    --color-yellow-100: oklch(92.5% 0.098 85.87deg);
    --color-yellow-800: oklch(65.8% 0.15 79.87deg);
    --color-yellow-900: oklch(59.8% 0.137 82.23deg);
    --color-yellow-200: oklch(87% 0.13 85.87deg);

    /* Status indicator background and text colors for theming (match themes.ts) */
    --color-status-up-bg: #e6f9f0; /* light background for up */
    --color-status-up: #10b981; /* text and main color for up */
    --color-status-down-bg: #fde8e8;
    --color-status-down: #ef4444;
    --color-status-pending-bg: #fff7e6;
    --color-status-pending: #f59e0b;
    --color-status-paused-bg: #f3f4f6;
    --color-status-paused: #6b7280;

    background-color: #242424;
    color-scheme: light dark;

    /* Font and general styling */
    font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-synthesis: none;
    font-weight: 400;
    line-height: 1.5;
    text-rendering: optimizelegibility;
    /* stylelint-disable-next-line property-no-vendor-prefix -- Required for cross-browser text scaling compatibility */
    -webkit-text-size-adjust: 100%;
}

body {
    margin: 0;
    min-block-size: 100vb;
    min-inline-size: 320px;
}

[id="root"] {
    margin: 0 auto;
    max-inline-size: 100vi;
    text-align: start;
}

@layer base {
    html {
        block-size: 100%;
    }

    body {
        background-color: var(--color-gray-50, #f9fafb);
        block-size: 100%;
        color: var(--color-gray-900, #111827);

        @media (prefers-color-scheme: dark) {
            background-color: var(--color-gray-900, #111827);
            color: var(--color-gray-100, #f3f4f6);
        }
    }
}

/* Global scrollbar theming */

/* Light mode scrollbar */
::-webkit-scrollbar {
    block-size: 8px;
    inline-size: 8px;
}

::-webkit-scrollbar-track {
    border-radius: 4px;
    background: var(--color-background-secondary, #f9fafb);
}

::-webkit-scrollbar-thumb {
    border-radius: 4px;
    background: var(--color-border-secondary, #d1d5db);
    transition: background 0.2s ease;

    &:hover {
        background: var(--color-text-tertiary, #9ca3af);
    }
}

/* Dark mode scrollbar */
@media (prefers-color-scheme: dark) {
    ::-webkit-scrollbar-track {
        background: var(--color-background-tertiary, #1a1f29);
    }

    ::-webkit-scrollbar-thumb {
        background: var(--color-border-primary, #4b5563);

        &:hover {
            background: var(--color-text-secondary, #d1d5db);
        }
    }
}

/* High contrast scrollbar */
@media (prefers-contrast: more) {
    ::-webkit-scrollbar-thumb {
        background: var(--color-primary-500, #3b82f6);
    }
}

/* Reduced motion scrollbar */
@media (prefers-reduced-motion: reduce) {
    ::-webkit-scrollbar-thumb {
        transition: none;
    }
}

@layer components {
    .status-indicator {
        display: inline-flex;
        align-items: center;
        padding: 0.25rem 0.5rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 500;
    }

    .status-up {
        background-color: var(--color-status-up-bg, #e6f9f0);
        color: var(--color-status-up, #10b981);
    }

    .status-down {
        background-color: var(--color-status-down-bg, #fde8e8);
        color: var(--color-status-down, #ef4444);
    }

    .status-pending {
        background-color: var(--color-status-pending-bg, #fff7e6);
        color: var(--color-status-pending, #f59e0b);
    }

    .status-paused {
        background-color: var(--color-status-paused-bg, #f3f4f6);
        color: var(--color-status-paused, #6b7280);
    }

    /* Theme-aware status classes */
    .themed-status-up {
        border-radius: 50%;
        background-color: var(--color-status-up, #10b981);
    }

    .themed-status-down {
        border-radius: 50%;
        background-color: var(--color-status-down, #ef4444);
    }

    .themed-status-pending {
        border-radius: 50%;
        background-color: var(--color-status-pending, #f59e0b);
    }

    .themed-status-paused {
        border-radius: 50%;
        background-color: var(--color-status-paused, #6b7280);
    }

    /* Theme-aware text classes */
    .themed-text-primary {
        color: var(--color-text-primary, #1f2937);
    }

    .themed-text-secondary {
        color: var(--color-text-secondary, #6b7280);
    }

    .themed-text-tertiary {
        color: var(--color-text-tertiary, #9ca3af);
    }

    .themed-text-success {
        color: var(--color-status-up, #10b981);
    }

    .themed-text-warning {
        color: var(--color-status-pending, #f59e0b);
    }

    .themed-text-danger {
        color: var(--color-status-down, #ef4444);
    }

    /* Theme-aware box classes */
    .themed-box-surface-elevated {
        border: 1px solid var(--color-border-primary, #e5e7eb);
        background-color: var(--color-background-elevated, #f9fafb);
    }

    @media (prefers-color-scheme: dark) {
        .themed-text-primary {
            color: var(--color-text-primary, #f9fafb);
        }

        .themed-text-secondary {
            color: var(--color-text-secondary, #d1d5db);
        }

        .themed-text-tertiary {
            color: var(--color-text-tertiary, #9ca3af);
        }

        .themed-box-surface-elevated {
            border: 1px solid var(--color-border-primary, #374151);
            background-color: var(--color-background-elevated, #1f2937);
        }
    }
}
