# SonarCloud configuration for Uptime Watcher
sonar.organization=nick2bad4u
sonar.projectKey=Nick2bad4u_Uptime-Watcher
sonar.projectName=Uptime-Watcher
sonar.projectVersion=10.9.0

# SonarCloud server
sonar.host.url=https://sonarcloud.io

# Authentication (set via environment variable SONAR_TOKEN in CI)
# sonar.login=YOUR_TOKEN_HERE

# Source configuration
sonar.sources=src,electron,shared

# Ensure test files are not included as sources
sonar.exclusions=**/node_modules/**,**/dist/**,**/dist-electron/**,**/build/**,**/coverage/**,**/release/**,**/scripts/**,**/docs/**,**/report/**,**/benchmarks/**,**/assets/**,**/html/**,**/icons/**,**/*.config.*,**/*.d.ts,**/icons/**,**/public/**,src/test/**,electron/test/**,shared/test/**,**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx,fix-*.ps1

# Language configuration
sonar.typescript.file.suffixes=.ts,.tsx
# Remove .ts and .tsx from javascript.file.suffixes to avoid conflicts
sonar.javascript.file.suffixes=.js,.jsx

# Test configuration
sonar.tests=src/test,electron/test,shared/test
sonar.test.inclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx
sonar.test.exclusions=**/node_modules/**,**/dist/**,**/dist-electron/**,**/coverage/**

# Coverage configuration
sonar.typescript.lcov.reportPaths=coverage/lcov.info,coverage/electron/lcov.info,coverage/shared/lcov.info
sonar.javascript.lcov.reportPaths=coverage/lcov.info,coverage/electron/lcov.info,coverage/shared/lcov.info
sonar.coverage.exclusions=**/test/**,**/*.test.*,**/*.spec.*,**/dist/**,**/dist-electron/**,**/coverage/**,**/release/**,**/scripts/**,**/docs/**,**/report/**,**/benchmarks/**,**/assets/**,**/html/**,**/icons/**,**/*.config.*,**/*.d.ts,fix-*.ps1

# TypeScript tsconfig.json location
sonar.typescript.tsconfigPaths=tsconfig.json,tsconfig.electron.json,tsconfig.electron.test.json,tsconfig.test.json

# Code analysis configuration
sonar.sourceEncoding=UTF-8
sonar.scm.provider=git
sonar.scm.forceReloadAll=false
sonar.javascript.maxFileSize=1000000

# Performance and reliability improvements
sonar.javascript.environments=node,browser,electron
sonar.typescript.node.maxspace=8192

# Quality gate
sonar.qualitygate.wait=true

# Duplication Exclusions
sonar.cpd.exclusions=src/test/**,electron/test/**,shared/test/**,**/benchmarks/**,**/assets/**,**/html/**,**/icons/**,fix-*.ps1

# Issues configuration
sonar.issues.defaultAssigneeLogin=Nick2bad4u@github

# Sensor cache configuration
# Enable sensor cache to speed up analysis
sonar.sensor.cache.project.enable=true

# Additional configuration notes:
# - Set SONAR_TOKEN environment variable in GitHub Actions secrets
# - Coverage reports are automatically generated by npm run test:coverage
# - Frontend coverage: vitest run --coverage (via vite.config.ts)
# - Backend coverage: vitest run --config vitest.electron.config.ts --coverage
# - Shared coverage: included in both frontend and backend runs
# - SonarCloud connected mode configuration:
#   {
#     "sonarCloudOrganization": "nick2bad4u", 
#     "projectKey": "Nick2bad4u_Uptime-Watcher",
#     "region": "EU"
#   }