---
mode: "agent"
tools: ["All Tools"]
description: "Create Vite plugin for Electron development and building"
---

Create Vite plugin for: ${input:pluginPurpose}

Requirements:

- TypeScript implementation with proper types
- Vite plugin API compliance
- Development and build mode support
- Hot module replacement integration
- Source map generation
- Asset handling and optimization
- Cross-platform compatibility
- Performance optimization

Plugin Architecture:
- Plugin lifecycle hooks implementation
- Configuration validation and merging
- Build pipeline integration
- Development server coordination
- Asset processing and transformation
- Bundle optimization

Electron Integration:
- Main process build configuration
- Preload script handling
- Renderer process optimization
- Native module support
- Node.js API access control
- Security context management

Development Features:
- Hot reload for main process
- Automatic restart on changes
- Source map support
- Debug configuration
- Development server proxy
- Live reloading coordination

Build Optimization:
- Bundle splitting and chunking
- Tree shaking optimization
- Asset minification
- Code splitting strategies
- Dynamic import handling
- Build performance monitoring

Asset Management:
- Static asset processing
- Dynamic asset loading
- Resource bundling
- Compression and optimization
- Cache busting strategies
- CDN integration support

Configuration Options:
- Flexible plugin configuration
- Environment-specific settings
- Build target customization
- Output directory management
- Asset path resolution
- External dependency handling

Error Handling:
- Build error reporting
- Development error overlay
- Source map error mapping
- Performance bottleneck detection
- Memory usage monitoring
- Build process debugging

Cross-Platform Support:
- Windows, macOS, Linux compatibility
- Path resolution handling
- File system operation optimization
- Platform-specific optimizations
- Native module compilation
- Architecture-specific builds

Integration:
- TypeScript configuration integration
- ESLint and Prettier coordination
- Testing framework support
- CI/CD pipeline integration
- Package manager compatibility
- Dependency management
