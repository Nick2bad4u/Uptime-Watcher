---
name: "Public-Folder-Guidelines"
description: "Standards for static assets served from the public/ directory."
applyTo: "public/**"
---

# Static Assets (public/) Guidelines

- Purpose:
  - `public/` holds static files that Vite copies verbatim into the packaged application (service workers, HTML fragments, preload assets). Most UI assets should continue to live under `src/assets` so they participate in the module graph; reserve `public/` for files that must keep their exact filename or need to be addressed via absolute URLs.
- Mock Service Worker:
  - `mockServiceWorker.js` is generated by MSW. Do **not** edit it by hand. Regenerate it whenever MSW updates using `npx msw init public --save` (or the equivalent command documented in `docs/Guides/STORYBOOK_VITEST_COMPONENT_TESTING.md`). Commit the regenerated file so Storybook, Vitest, and Playwright can reuse the same worker.
  - Keep the header comments and integrity checksum untouched—MSW relies on them to validate the worker at runtime.
- Adding new assets:
  - Only store deterministic, cacheable resources here (manifests, icons, localized HTML snippets). Avoid embedding secrets, environment-specific configuration, or large binaries. For sizable assets consider `assets/` plus runtime loading logic so the build pipeline can optimize delivery.
  - Document any new public entry (for example, additional workers or static JSON) in the relevant guide and ensure the Electron packaging configuration (builder config, `vite.config.ts`) pulls it into the final bundle.
  - Maintain filename stability. Renaming files in `public/` requires updating every reference (service worker registration, tests, documentation) because no bundler aliases are applied.
- Testing and verification:
  - Run `npm run lint:fix` and `npm run test:playwright` after modifying the worker or other public assets to confirm MSW and E2E suites still start correctly.
  - When adjusting the worker, verify that `npm run storybook:test-server` + `npm run test:storybook:runner` continue to pass—Storybook depends on the service worker for API mocking.
